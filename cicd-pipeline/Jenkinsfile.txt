node{
    // Script for Windows machine
    
    def mavenHome = tool name: 'maven-3', type: 'maven'
	def mavenCMD = "${mavenHome}/bin/mvn"

	stage('git checkout'){
		// code for checkout
		git 'https://github.com/suvradipdutta/devops-bootcamp.git'
	}
	
	stage('mvn clean'){
		// code for build
        dir("cicd-pipeline") {
		    bat "${mavenCMD} clean"
	    }
	}
	
	stage('mvn compile'){
		// code for build
        dir("cicd-pipeline") {
		    bat "${mavenCMD} compile"
	    }
	}	
	
	stage('mvn test'){
		// code for build
        dir("cicd-pipeline") {
		    bat "${mavenCMD} test"
	    }
	}	
	
	stage('mvn package'){
		// code for build
        dir("cicd-pipeline") {
		    bat "${mavenCMD} package"
	    }
	}		
	    
	stage('Self checks') {
        dir("cicd-pipeline/target") {
            bat "dir"
        }
	}
}